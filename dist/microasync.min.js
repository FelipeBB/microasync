!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.microasync=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var each,thunk;thunk=require("./thunk"),each=function(arr,fn,callback){var i,item,len,results;for(results=[],i=0,len=arr.length;len>i;i++)item=arr[i],results.push(setTimeout(function(item){return thunk(fn,item)(function(err,response){return err&&callback(err),callback(null,response)},0)}));return results},module.exports=each},{"./thunk":7}],2:[function(require,module,exports){var filter,once,thunk;once=require("./lib/once"),thunk=require("./thunk"),filter=function(arr,fn,callback){var i,index,item,len,resolveCounter,response,results;for(callback=once(callback),response=[],resolveCounter=arr.length,results=[],index=i=0,len=arr.length;len>i;index=++i)item=arr[index],results.push(function(item,index){return thunk(fn,item)(function(err,value){return err&&callback(err),value&&(response[index]=item),--resolveCounter?void 0:(response=response.filter(function(val){return val}),callback(null,response))})}(item,index));return results},module.exports=filter},{"./lib/once":3,"./thunk":7}],3:[function(require,module,exports){var once,slice=[].slice;once=function(fn){return function(){var auxFn,params;return params=1<=arguments.length?slice.call(arguments,0):[],fn?(auxFn=fn,fn=null,auxFn.apply(null,params)):null}},module.exports=once},{}],4:[function(require,module,exports){var each,filter,map,microasync,parallel,thunk;thunk=require("./thunk"),map=require("./map"),filter=require("./filter"),each=require("./each"),parallel=require("./parallel"),microasync={thunk:thunk,map:map,parallel:parallel,filter:filter,each:each},module.exports=microasync},{"./each":1,"./filter":2,"./map":5,"./parallel":6,"./thunk":7}],5:[function(require,module,exports){var map,once,thunk;once=require("./lib/once"),thunk=require("./thunk"),map=function(arr,fn,callback){var i,index,item,len,resolveCounter,response,results;for(callback=once(callback),response=[],resolveCounter=arr.length,results=[],index=i=0,len=arr.length;len>i;index=++i)item=arr[index],results.push(function(index){return thunk(fn,item)(function(err,value){return err&&callback(err),response[index]=value,--resolveCounter?void 0:callback(null,response)})}(index));return results},module.exports=map},{"./lib/once":3,"./thunk":7}],6:[function(require,module,exports){var once,parallel,thunk;once=require("./lib/once"),thunk=require("./thunk"),parallel=function(functions,callback){var fn,i,len,resolve,resolveCounter,response;for(callback=once(callback),response=[],resolveCounter=functions.length,i=0,len=functions.length;len>i;i++)fn=functions[i],thunk(fn)(resolve);return resolve=function(err,value){return err&&callback(err),response.push(value),--resolveCounter?void 0:callback(null,response)}},module.exports=parallel},{"./lib/once":3,"./thunk":7}],7:[function(require,module,exports){var thunk,slice=[].slice;thunk=function(){var cb,error,fn,params,response;return fn=arguments[0],params=2<=arguments.length?slice.call(arguments,1):[],response=void 0,error=void 0,cb=void 0,fn.apply(null,slice.call(params).concat([function(err,value){return err&&cb?cb(err):cb?cb(null,value):(response=value,error=err)}])),function(callback){return error?callback(error):(response&&callback(null,response),cb=callback)}},module.exports=thunk},{}]},{},[4])(4)});